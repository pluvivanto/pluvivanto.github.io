<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://pluvivanto.github.io/posts/application-configuration-in-java-spring:-application.properties-vs-application.yml/"><link href="/assets/main.94311a5a86dacb88dcee.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>Application Configuration in Java Spring: application.properties vs application.yml | Sand Castle</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="Application Configuration in Java Spring: application.properties vs application.yml"><meta property="og:site_name" content="Sand Castle"><meta property="og:type" content="website"><meta property="og:url" content="https://pluvivanto.github.io//posts/application-configuration-in-java-spring:-application.properties-vs-application.yml/"><meta name="twitter:card" content="summary_large_image"><meta name="description" content="Application Configuration in Java Spring: application.properties vs application.yml 09 Oct 2023 | 2 min read Since I started using Spring..."><meta property="og:description" content="Application Configuration in Java Spring: application.properties vs application.yml 09 Oct 2023 | 2 min read Since I started using Spring..."><meta name="description" content="Application Configuration in Java Spring: application.properties vs application.yml 09 Oct 2023 | 2 min read Since I started using Spring..."><meta property="og:image" content="https://pluvivanto.github.io/images/default-social-image.png"><meta name="twitter:image" content="https://pluvivanto.github.io/images/default-social-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">Sand Castle</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/about">About</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>Application Configuration in Java Spring: application.properties vs application.yml</h1><div class="post__details"><time datetime="2023-10-09">09 Oct 2023 </time><span>| </span><span>2 min read</span></div></header><main class="post__content"><p>Since I started using Spring Boot, I’ve really taken a liking to it. But there’s this quirky habit that’s formed. Every time I grab a new Spring project from the Spring Initializer, I end up deleting the default application.properties file and crafting a new application.yml file. Then, I fill it with stuff like flags, paths, and database settings, just out of habit. What’s funny is that I can’t exactly explain why I do it, but it’s become a part of my routine. Lately, I’ve decided to face my curiosity head-on and delve into the Spring documentation to better grasp this practice.</p><h2>Why Use the “application.*” File?</h2><p>Actually, I might not need it, as the document says:</p><blockquote><p>Spring Boot lets you externalize your configuration so that you can work with the same application code in different environments.</p></blockquote><p>Using application.* file is called <em>Externalized Configuration</em>. This is handy when you want different settings for different things. Like, having special setups for production, development, or testing. And it goes beyond that, covering situations like MSA or Docker environments.<br>Keeping configuration apart from code is a smart move in most cases, if not all. Especially in big company codebases, you’d rather not hunt down and modify all the <code>@PropertySource</code> notes in your <code>@Configuration</code> classes every time you release (and believe me, I’ve been there).</p><h5>code 1. I’m sure you don’t want to edit every <code>@PropertySource</code> for each environments</h5><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:/com/${my.placeholder:default/path}/app.properties"</span><span class="token punctuation">)</span>
 <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>
     <span class="token annotation punctuation">@Autowired</span>
     <span class="token class-name">Environment</span> env<span class="token punctuation">;</span>
     <span class="token annotation punctuation">@Bean</span>
     <span class="token keyword">public</span> <span class="token class-name">TestBean</span> <span class="token function">testBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">TestBean</span> testBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         testBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"testbean.name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> testBean<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h2>So, what’s the deal with .properties and .yml?</h2><p>When it comes to how they work, they’re basically same. The only difference is the syntax and formatting. Now, let’s check out the example from the official document:</p><h5>code 2: application.properties</h5><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">my.secret</span><span class="token punctuation">=</span><span class="token value attr-value">${random.value}</span>
<span class="token key attr-name">my.number</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int}</span>
<span class="token key attr-name">my.bignumber</span><span class="token punctuation">=</span><span class="token value attr-value">${random.long}</span>
<span class="token key attr-name">my.uuid</span><span class="token punctuation">=</span><span class="token value attr-value">${random.uuid}</span>
<span class="token key attr-name">my.number-less-than-ten</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int(10)}</span>
<span class="token key attr-name">my.number-in-range</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int[1024,65536]}</span></code></pre><h5>code 3: application.yml</h5><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">my</span><span class="token punctuation">:</span>
  <span class="token key atrule">secret</span><span class="token punctuation">:</span> <span class="token string">"${random.value}"</span>
  <span class="token key atrule">number</span><span class="token punctuation">:</span> <span class="token string">"${random.int}"</span>
  <span class="token key atrule">bignumber</span><span class="token punctuation">:</span> <span class="token string">"${random.long}"</span>
  <span class="token key atrule">uuid</span><span class="token punctuation">:</span> <span class="token string">"${random.uuid}"</span>
  <span class="token key atrule">number-less-than-ten</span><span class="token punctuation">:</span> <span class="token string">"${random.int(10)}"</span>
  <span class="token key atrule">number-in-range</span><span class="token punctuation">:</span> <span class="token string">"${random.int[1024,65536]}"</span></code></pre><h2>The Verdict</h2><p>Personally, I’ll stick with .yml over .properties.<br>Wondering why? Well, yml seems really organized, pushing developers toward a specific coding style (and, honestly, I’m a fan of that).</p><h2>Reference:</h2><ul><li>https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.core</li><li>https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</li></ul></main><aside class="post__aside"><div class="post__tags"><a href="/tags/java/">#java</a> <a href="/tags/spring/">#spring</a> <a href="/tags/web/">#web</a></div><nav class="post__pagination"><a href="/posts/tdd:-test-driven-development-msa/"><span>←</span> <span>TDD: Test Driven Development – 한빛 MSA</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a href="https://github.com/pluvivanto" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><p class="footer__attribution">Created by <a href="https://twitter.com/yinkakun" target="_blank" rel="noopener">Yinka,</a> Powered by <a href="https://www.11ty.dev" target="_blank" rel="noopener">11ty,</a> Checkout <a href="https://github.com/yinkakun/eleventy-duo" target="_blank" rel="noopener noreferrer">project's github repo</a></p></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>